<!DOCTYPE html>
<html>
	<head>
		<!-- Meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- jQuery -->
		<script src="https://releases.jquery.com/git/jquery-3.x-git.min.js" crossorigin="anonymous"></script>

		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous"
		/>

		<!-- Custom CSS -->
		<style>
			.photoGrid {
			}
			.photoGrid-row {
				display: flex;
				flex-wrap: wrap;
				padding: 0 4px;
			}
			.photoGrid-column {
				flex: 50%;
				padding: 0 4px;
			}
			.photoGrid-column img {
				margin-top: 8px;
				vertical-align: middle;
			}
		</style>
	</head>
	<body>
		<header id="header"></header>

		<div class="container-fluid">
			<div class="row">
				<div class="d-flex flex-row" style="gap: 20px">
					<img src="" id="thumbnail" />
					<h2 id="name"></h2>
				</div>
			</div>

			<hr />

			<div class="row">
				<div class="col">
					<div class="d-flex flex-row justify-content-between">
						<h3>Images</h3>
						<button id="addImage" class="btn btn-primary">Add Image</button>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<div class="photoGrid" style="height: 600px; overflow-y: scroll">
						<div class="photoGrid-row">
							<div class="photoGrid-column">
								<img src="wedding.jpg" />
								<img src="rocks.jpg" />
								<img src="falls2.jpg" />
								<img src="paris.jpg" />
								<img src="nature.jpg" />
								<img src="mist.jpg" />
								<img src="paris.jpg" />
							</div>
							<div class="photoGrid-column">
								<img src="underwater.jpg" />
								<img src="ocean.jpg" />
								<img src="wedding.jpg" />
								<img src="mountainskies.jpg" />
								<img src="rocks.jpg" />
								<img src="underwater.jpg" />
							</div>
						</div>
					</div>
				</div>
			</div>

			<hr />

			<div class="row">
				<div class="col">
					<div class="d-flex flex-row justify-content-between">
						<h3>Planner</h3>
						<button id="addPlannerItem" class="btn btn-primary">Add Item</button>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<img src="" id="thumbnail" height="50" />
					<h3 id="name"></h3>
				</div>
			</div>
		</div>

		<!-- Bootstrap JS -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
			crossorigin="anonymous"
		></script>

		<!-- Main CS -->
		<script src="js/main.js"></script>
	</body>
</html>

<script type="module">
	import lsh from "./js/localStorageHelper.js";

	$(document).ready(function () {
		// init
		const queryString = window.location.search;
		const urlParams = new URLSearchParams(queryString);
		const id = urlParams.get("id");

		// validate url params
		if (id) {
			// load in data
			const cosplay = lsh.getByID("cosplayList", id);
			const cosplayData = lsh.getByID("cosplays", id);

			// validate data
			if (!cosplay) window.location.replace("./index.html");

			// replace data
			$("#name").text(cosplay.name);
			$("#thumbnail").attr("src", cosplay.thumbSrc).attr("height", "50px");
		} else {
			window.location.replace("./index.html");
		}
	});
</script>
